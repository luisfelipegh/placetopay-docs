export const apiRefs = ['/api/autopay/edit']

## Actualizar un AutoPago {{ id: 'update-autopay', tag: 'POST', label: '/api/autopay/edit' }}

El flujo de actualización de un autopago puede realizar a través del comercio y/o Wallet de PlacetoPay. Este proceso permite cambiar el medio de pago que registrado en el proceso de creación del autopago.

## Flujo de actualización

1. **Listar autopagos**: En la interfaz del comercio y/o Wallet de PlacetoPay se debe listar los autopagos existentes, al hacer clic en uno de ellos, se debe retornar una URL de redirección.

2. **Interfaz de AutoPago**: La URL dirige al usuario a una interfaz gráfica donde debe permitir registrar un nuevo medio de pago.

3. **Notificación**: Una vez completado el proceso, recibirá una notificación indicando la actualización del medio de pago del autopago.


<Row>
    <Col>
        <ApiReader
            path="/api/autopay/edit"
            method="POST"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Solicitud" tag="POST" label="/api/autopay/edit">
            ```bash {{ title: 'General' }}
            curl -X "POST" {{baseURl}}/api/autopay/edit \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login":"aabbccdd1234567890aabbccdd123456",
                    "tranKey":"ABC123example456trankey+789abc012def3456ABC=",
                    "nonce":"enQ4dXh3YWhkMWM=",
                    "seed":"2023-06-21T09:56:06-05:00"
                },
                "id": "328eb09a-363f-48a6-a16e-51c5a58b89ec"
            }'
            ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/api/autopay/edit"
            method="POST"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
            ```json {{ title: '200' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "description": "La petición se ha procesado correctamente",
                    "date":"2023-06-21T09:56:06-05:00"
                },
                "id": "ac1cc9ce-83fe-42d7-9708-f6dd5461c89e",
                "reference": "RF-12345",
                "processUrl": "https://checkout-co.placetopay.com/session/1/cc9b8690b1f7228c78b759ce27d7e80a/edit"
            }
            ```
            ```json {{ title: '400: Respuesta fallida' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "BR",
                    "message": "El campo id es obligatorio.",
                    "date":"2023-06-21T09:56:06-05:00"
                }
            }
            ```
            ```json {{ title: '404: No encontrado' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "NF",
                    "message": "El recurso no fue encontrado o es inexistente.",
                    "date":"2023-06-21T09:56:06-05:00"
                }
            }
            ```
            ```json {{ title: '401: Autenticación fallida' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "401",
                    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
                    "date": "2021-09-21T09:34:48-05:00"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>

