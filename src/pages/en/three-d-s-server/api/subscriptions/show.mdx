export const sectionMode = 'nav';

export const description = 'On this page, we will dive into the different 3DSS endpoints that you can use to programmatically manage subscriptions in merchants and branches.';

export const apiRefs = ['/api/v2/subscriptions', '/api/v2/subscriptions/{merchantCode}/{acquirerBIN}'];

---

## Query a subscription {{ id: 'show-a-subscription', tag: 'GET', label: '/api/v2/subscriptions/{merchantCode}/{acquirerBIN}' }}

<Row>
  <Col>
      <ApiReader
        path="/api/v2/subscriptions/{merchantCode}/{acquirerBIN}"
        method="GET"
        api={props.refs}
      />
  </Col>
  <Col sticky>

    <br />
    <CodeGroup title="Request" tag="GET" label="/api/v2/subscriptions/{merchantCode}/{acquirerBIN}">
    ```bash {{ title: 'cURL' }}
    curl -X "GET" https://3dss-test.placetopay.com/api/v2/subscriptions/{merchantCode}/{acquirerBIN} \
      -H "Content-Type: application/json" \
      -H "Accept: application/json" \
      -H "Authorization: Bearer ACCESS_TOKEN" \

    ```
    </CodeGroup>
  </Col>
</Row>

<Row>
  <Col>
    <ApiReader
      path="/api/v2/subscriptions/{merchantCode}/{acquirerBIN}"
      method="get"
      type="response"
      api={props.refs}
    />
  </Col>

  <Col sticky>
    <br />
    <CodeGroup title="Response">
    ```json {{ title: '200 - Merchant & Branch' }}
    {
      "status": {
        "status": "OK",
        "reason": "00",
        "message": "The request has been successfully processed",
        "date": "2025-10-14T22:38:45+00:00"
      },
      "merchant": {
        "id": 1,
        "name": "Merchant One",
        "brand": "Merchant One Brand",
        "country": "COL",
        "currency": "COP",
        "document": {
          "type": "NIT",
          "number": "12345678"
        },
        "url": "https://www.merchant.com",
        "mcc": 742,
        "subscriptions": [
          {
            "acquirerBIN": "411111",
            "merchantCode": "200002",
            "franchise": "visa",
            "version": 2
          },
          {
            "acquirerBIN": "510510",
            "merchantCode": "200002",
            "franchise": "mastercard",
            "version": 2
          }
        ]
      },
      "branch": {
        "id": 1,
        "name": "Branch One",
        "brand": "Branch One Brand",
        "country": "COL",
        "currency": "COP",
        "url": "https://www.branch1.merchant.com",
        "enabled": true,
        "subscriptions": [
          {
            "acquirerBIN": "493111",
            "merchantCode": "300001",
            "franchise": "visa",
            "version": 2
          }
        ]
      }
    }
    ```
    ```json {{ title: '200 - Only Merchant' }}
    {
      "status": {
        "status": "OK",
        "reason": "00",
        "message": "The request has been successfully processed",
        "date": "2025-10-14T22:38:45+00:00"
      },
      "merchant": {
        "id": 1,
        "name": "Merchant One",
        "brand": "Merchant One Brand",
        "country": "COL",
        "currency": "COP",
        "document": {
          "type": "NIT",
          "number": "12345678"
        },
        "url": "https://www.merchant.com",
        "mcc": 742,
        "subscriptions": [
          {
            "acquirerBIN": "411111",
            "merchantCode": "200002",
            "franchise": "visa",
            "version": 2
          },
          {
            "acquirerBIN": "510510",
            "merchantCode": "200002",
            "franchise": "mastercard",
            "version": 2
          }
        ]
      },
      "branch": []
    }
    ```

    ```json {{ title: '401' }}
    {
      "status": {
        "status": "FAILED",
        "reason": "BR",
        "message": "Unauthenticated.",
        "date": "2025-10-23T21:43:12+00:00"
      }
    }
    ```
    ```json {{ title: '404' }}
    {
      "status": {
        "status": "FAILED",
        "reason": "BR",
        "message": "Subscription does not exist",
        "date": "2025-10-15T19:47:23+00:00"
      }
    }
    ```
    ```json {{ title: '412' }}
    {
      "status": {
        "status": "FAILED",
        "reason": "BR",
        "message": "Duplicate merchantCode and acquirerBIN",
        "date": "2025-10-14T22:44:50+00:00"
      },
      "merchant": [
        {
          "id": 1,
        },
        {
          "id": 2,
        }
      ]
    }
    ```
    </CodeGroup>
  </Col>
</Row>
